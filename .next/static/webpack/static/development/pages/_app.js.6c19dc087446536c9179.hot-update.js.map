{"version":3,"file":"static/webpack/static/development/pages/_app.js.6c19dc087446536c9179.hot-update.js","sources":["webpack:///./components/Layout.js"],"sourcesContent":["import { useEffect, useRef, useState, useContext } from 'react'\nimport Head from 'next/head'\nimport Link from 'next/link';\n\nimport { themes } from '../utils/themes'\n\n// Components\nimport Burger from '../components/Burger';\nimport Menu from '../components/Menu';\nimport Header from '../components/Header'\n\n// Context & Hooks\nimport { ProxyContext } from '../context/proxy-context'\nimport { LocaleContext } from '../context/LocaleContext'\nimport useOutSide from '../hooks/useOutSide'\nimport useTranslation from '../hooks/useTranslation.js'\n\nimport { getInitialLocale } from '../locales/getInitialLocale'\n\n\n// Functions for changing themes\nconst lightTheme = () => ({\n  ...themes['common'],\n  ...themes['light'],\n})\nconst darkTheme = () => ({\n  ...themes['common'],\n  ...themes['dark'],\n})\n\nconst langs = [ 'he', 'en' ]\n\nconst Layout = ({ children, newProxy }) => {\n  const { t } = useTranslation()\n\n  const [proxy,  setProxy ]  = useContext(ProxyContext)\n  const { locale, setLocale } = useContext(LocaleContext)\n\n  const [ig, setIgnore] = useState(false)\n\n\n  // Initiation of Context API's\n  useEffect(() => {\n    if (locale && !ig) {\n      console.log(ig);\n      let loc = getInitialLocale(proxy && proxy.countryName)\n      setLocale(loc)\n    }\n    return () => { setIgnore(true) }\n  }, [locale])\n\n  useEffect(() => {\n    let ignore = false\n    if (newProxy && !ignore) {\n      setProxy(newProxy)\n    }\n    return () => { ignore: true }\n  }, [newProxy])\n\n  // setting locale. not  sure yet if I use it or context API only\n  const [menuOpen, setOpen] = useState(false)\n\n  const closeMenu     = () => setOpen(false)\n  const toggleMenu    = () => setOpen(!menuOpen)\n  const toggleLang    = () => {closeMenu(); const newLocale = langs[+!langs.indexOf(locale)]; setLocale(newLocale)}\n  const node          = useRef()\n  useOutSide(node, closeMenu)\n  const displayLang   = locale === 'heb' ? 'English' : '◊¢◊ë◊®◊ô◊™'\n\n  return (\n    <>\n      <Head>\n        <title>{t('metaTitle')}</title>\n        <meta name=\"description\" content={t('metaDescription')}/>\n      </Head>\n      <>\n        <Header >\n\n          <div ref={node}>\n\n            {/*-------- /// Burger Menu & Menu /// --------- */}\n\n            <Burger setOpen={toggleMenu} open={menuOpen} />\n            <Menu setOpen={toggleMenu} open={menuOpen} >\n\n            {/*-------- /// NAV LINKS /// --------- */}\n\n              <Link href=\"/News\">\n                <a alt=\"news\" onClick={() => closeMenu()}>\n                  <span>&#128240;</span>\n                  {t('news', 'links')}\n                </a>\n              </Link>\n\n              <Link href=\"/Statistics\">\n                <a alt=\"stats\" onClick={() => closeMenu()}>\n                  <span>\t&#128506;</span>\n                  {t('statistics', 'links')}\n                </a>\n              </Link>\n\n              <Link href=\"/About\">\n                <a alt=\"about\" onClick={() => closeMenu()}>\n                  <span>\t&#128506;</span>\n                  {t('about', 'links')}\n                </a>\n              </Link>\n\n              {/*\n                    // MEANT FOR NIGHT MODE -\n                    // This is Night Mode.. Currently disabled\n                      <a onClick={isLight ?setDarkTheme : setLightTheme}>\n                        <span>{ isLight ? 'üåí' : 'üåû'}</span>\n                        {\n                          isLight\n                          ? (isHeb && '◊û◊¶◊ë ◊ú◊ô◊ú◊î' || 'Dark Mode')\n                          : (isHeb && '◊û◊¶◊ë ◊ô◊ï◊ù' || 'Light Mode')\n                        }\n                      </a>\n              */}\n\n              <a onClick={toggleLang}>\n                <span>&#127760;</span>\n                {displayLang}\n              </a>\n\n            </Menu>\n          </div>\n\n\n        </Header>\n        {children}\n      </>\n    </>\n  )\n}\n\nexport default Layout\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AA1BA;AAAA;AAAA;AACA;AA6BA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AACA;;;;A","sourceRoot":""}