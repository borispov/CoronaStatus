{"version":3,"file":"static/webpack/static/development/pages/index.js.1933c802a6e27e91fa5a.hot-update.js","sources":["webpack:///./components/Stats.js"],"sourcesContent":["import useStats from '../utils/useStats'\nimport StatBlock from './StatBlock'\nimport React from 'react'\nimport styled from 'styled-components'\nimport Spinner from './Spinner'\nimport Bar from './Bar'\n\nconst vocab = {\n  'cases': 'infected',\n  'recovered': 'recovered',\n  'country': 'country',\n  'deaths': 'deaths',\n  'todayCases': 'new today',\n  'critical': 'critical'\n}\nconst prop = o => k => o[k]\nconst switchToVocab = word => vocab[word]\n\nconst Container = styled.div`\n  max-width: 760px;\n  margin: 0 auto;\n  text-align: center;\n`\n\nconst Grid = styled.div`\n  margin-top: 64px;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 1.5rem;\n`\n\nexport default function Stats({ url, cn = '', search }) {\n\n  const { stats, error, loading } = useStats(url, cn);\n\n  if (error) return <div> We've encountered an Error. Maybe you typed wrong country</div>\n  if (!stats) return <div><Spinner /></div>\n\n  const {\n    country,\n    cases,\n    recovered,\n    deaths,\n    todayCases,\n    critical\n  } = stats\n\n  const organizeData = d => {\n    const mapToKeyword = (k) => ({[switchToVocab(k)]: prop(d)(k)})\n    return Object.keys(d).slice(1).map(mapToKeyword)\n  }\n\n  const organizedData = organizeData(stats)\n  console.log(organizedData)\n\n  return (\n    <Container>\n\n      <h1>Country: {country}</h1>\n\n      <Bar info={organizedData} />\n\n      <Grid>\n        <StatBlock \n          title=\"Infected\"\n          data={cases}\n        />\n        <StatBlock \n          title=\"Recovered\"\n          data={recovered}\n        />\n        <StatBlock \n          title=\"Total Deaths\"\n          data={deaths}\n        />\n        <StatBlock \n          title=\"Critical Cases\"\n          data={critical}\n        />\n        <StatBlock \n          title=\"New Cases Today\"\n          data={todayCases}\n        />\n      </Grid>\n    </Container>\n  )\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAMA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAeA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;A","sourceRoot":""}