{"version":3,"file":"static/webpack/static/development/pages/index.js.078ccbef876462fcc06c.hot-update.js","sources":["webpack:///./components/InfoSection.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Container from './Container'\nimport styled from 'styled-components'\n\n// URL for getting the CSV data.\nconst baseURL = ''\n\nconst Wrapper = styled.div`\n  text-align: none;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-left: 15px;\n  margin-right: 15px;\n  margin-bottom: 32px;\n@media (max-width: 768px) {\n  flex-direction: column;\n  align-content: center;\n}\n`\n\nconst Section = styled.div`\n  border-radius: 4px;\n  background: ${props => props.theme.bgColor};\n  color: ${props => props.theme.color};\n  flex: 0 0 50%;\n  max-width: 33%;\n  position: relative;\n  width: 100%;\n  border: 1px solid;\n  border-color: ${props => props.theme.statColor};\n  margin: 2px;\n  @media (max-width: 768px) {\n    flex-direction: column;\n    flex: 0 0 100%;\n    max-width: 85%;\n  }\n`\n\nconst SectionTitle = styled.h2`\n  color: ${props => props.theme.btnColor};\n  background: ${props => props.theme.boxBg};\n  font-size: 20px;\n  padding: 4px 8px;\n  border-bottom: 1px solid black;\n`\n\nconst Link = styled.a`\n  text-decoration: none;\n  color: ${props => props.theme.statColor};\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n  padding: 0 4px;\n`\n\nconst Desc = styled.p`\n  font-size: 16px;\n  line-height: 1.22;\n  color: ${props => props.theme.color};\n  padding: 0 4px;\n`\n\nconst categories = ['health', 'education', 'activity']\n\n\nconst reduceToCat = (a, { category, ...x}) => ({ category, data: a['data'].concat(x) })\nconst init = { category: '', data: [] }\n\n// RENDERING functions\nconst mapDataToSection = (item, idx) => {\n  return (\n    <div key={idx}>\n      <Link href={item.link}>{item.subject}</Link>\n      <Desc>{item.description}</Desc>\n    </div>\n  )\n}\n\nconst renderSection = secData => {\n  return secData.map((it, ix) => (\n    <Section key={ix}>\n      <SectionTitle>\n        {it.category}\n      </SectionTitle>\n      {it.data.map(mapDataToSection)}\n    </Section>\n  ))\n}\n\nexport default () => {\n\n  const [data, setData] = useState()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    async function fetchData() {\n      setError()\n      try {\n\n        const { data } = await axios.get('https://covid19.borisky.me/api/data/resources')\n\n        const datakeys = [...new Set(data.map(i => i.category))]\n        const d = datakeys\n            .map(key => data.filter(i => i.category === key))\n            .map(each => each.reduce(reduceToCat, init))\n\n        setData(d)\n      } catch(e) {\n        setError(e)\n      }\n    }\n    fetchData()\n  }, [])\n\n\n  if (error) {\n    return <div> Received Error Fetching Information ... Let Me Know About This: boristofu@gmail.com</div>\n  }\n\n  return (\n    <>\n      <h1 style={{marginBot: '12px', fontSize: '24px', textAlign: 'center'}}>Useful Information For All</h1>\n\n      <Wrapper>\n\n        {\n          data && renderSection(data)\n        }\n\n      </Wrapper>\n\n    </>\n  )\n\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAMA;AAAA;AASA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AAAA;AAAA;AAAA;AAEA;AAAA;AAOA;AAAA;AAAA;AAAA;AAGA;AAAA;AAIA;AACA;AAEA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAXA;AAAA;AACA;AADA;AAAA;AAAA;AAaA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAeA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;;;;A","sourceRoot":""}