{"version":3,"file":"static/webpack/static/development/pages/index.js.5a791f11de050892886a.hot-update.js","sources":["webpack:///./components/InfoSection.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { Container } from './S'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  text-align: none;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-left: 15px;\n  margin-right: 15px;\n  margin-bottom: 32px;\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-content: center;\n  }\n`\n\nconst Section = styled.div`\n  border-radius: 4px;\n  flex: 0 0 50%;\n  max-width: 33%;\n  position: relative;\n  width: 100%;\n  border: 1px solid;\n  border-color: ${props => props.theme.primaryColor};\n  margin-left: 8px;\n  margin-right: 8px;\n  margin-top: 16px;\n  margin-bottom: 16px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    flex: 0 0 100%;\n    max-width: 85%;\n  }\n`\n\nconst SectionTitle = styled.h2`\n  color: ${props => props.theme.onPrimary};\n  background: ${props => props.theme.primaryColor};\n  font-size: 20px;\n  padding: 4px 8px;\n  margin-bottom: 8px;\n  border-bottom: 1px solid black;\n`\n\nconst Link = styled.a`\n  text-decoration: none;\n  color: ${props => props.theme.black};\n  font-weight: 700;\n  font-family: 'Roboto';\n  font-size: 18px;\n  line-height: 1.5;\n  padding: 6px 4px 2px 4px;\n  @media (max-width: 768px) {\n    font-size: 16px;\n  }\n`\n\nconst Desc = styled.p`\n  font-size: 16px;\n  line-height: 1.3;\n  color: ${props => props.theme.text.secondary};\n  padding: 0 4px;\n  padding-bottom: 12px;\n  @media (max-width: 768px) {\n    font-size: 14px;\n  }\n`\n\nconst Title = styled.h1`\n  font-size: 28px;\n  margin: 36px auto;\n  text-shadow: 0 2px 6px rgba(0,0,0,0.16);\n  text-align: center;\n`\n\nconst reduceToCat = (a, { category, ...x}) => ({ category, data: a['data'].concat(x) })\nconst init = { category: '', data: [] }\n\n// RENDERING functions\nconst mapDataToSection = (item, idx) => {\n  return (\n    <div key={idx}>\n      <Link href={item.link}>{item.subject}</Link>\n      <Desc>{item.description}</Desc>\n    </div>\n  )\n}\n\nconst renderSection = secData => {\n  return secData.map((it, ix) => (\n    <Section key={ix}>\n      <SectionTitle>\n        {it.category}\n      </SectionTitle>\n      {it.data.map(mapDataToSection)}\n    </Section>\n  ))\n}\n\nexport default () => {\n\n  const [data, setData] = useState()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    async function fetchData() {\n      setError()\n      try {\n\n        const { data } = await axios.get('https://nCorona.live/api/data/resources')\n\n        const datakeys = [...new Set(data.map(i => i.category))]\n        const d = datakeys\n            .map(key => data.filter(i => i.category === key))\n            .map(each => each.reduce(reduceToCat, init))\n\n        setData(d)\n      } catch(e) {\n        setError(e)\n      }\n    }\n    fetchData()\n  }, [])\n\n\n  if (error) {\n    return <div> Received Error Fetching Information ... Let Me Know About This: boristofu@gmail.com</div>\n  }\n\n  return (\n    <>\n      <Title>Resources</Title>\n      <Wrapper>\n        { data && renderSection(data) }\n      </Wrapper>\n    </>\n  )\n\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAOA;AAAA;AAaA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAOA;AAAA;AAAA;AAAA;AAEA;AAAA;AAWA;AAAA;AAAA;AAAA;AAGA;AAAA;AAQA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAIA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAXA;AAAA;AACA;AADA;AAAA;AAAA;AAaA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAeA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;A","sourceRoot":""}