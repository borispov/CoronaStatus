{"version":3,"file":"static/webpack/static/development/pages/index.js.ffb54e8ad1ec736607fb.hot-update.js","sources":["webpack:///./utils/useYday.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nconst isUSA = s => s === 'usa' || s === 'Usa' || s === 'United States'\nconst isUK = str => str === 'Uk' || str === 'England' || str === 'United Kingdom' || str == 'great britain'\nconst capitalize = str => str.charAt(0).toUpperCase() + str.toLowerCase().slice(1)\nconst parseCountry = country => isUSA(country) ? 'USA' : isUK(country) ? 'UK' : country\n\nexport default function useYday(url, country) {\n\n  const [yesterdayCn, setStats] = useState();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n\n    async function fetchData() {\n      setLoading(true)\n      setError()\n\n      const URL = url + parseCountry(country).toLowerCase()\n\n      try {\n        const { data } = await axios.get(URL + '?yesterday=true')\n        const yesterdayCn = {\n          active: data.active,\n          cases: data.cases,\n          todayCases: data.todayCases,\n          recovered: data.recovered,\n          deaths: data.deaths,\n          country: data.country\n        }\n        setStats(yesterdayCn)\n        setLoading(false)\n       } catch(e) {\n        setError(e)\n      }\n    }\n    fetchData();\n  }, [country])\n  return {\n    yesterdayCn, loading, error\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAKA;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAJA;AAAA;AAAA;AACA;AADA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAjBA;AAAA;AACA;AADA;AAAA;AAAA;AAmBA;AACA;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAqBA;AACA;AACA;AACA;AAAA;AAAA;AADA;AAGA;;;;A","sourceRoot":""}