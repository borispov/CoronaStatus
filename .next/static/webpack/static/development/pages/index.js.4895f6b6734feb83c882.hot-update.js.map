{"version":3,"file":"static/webpack/static/development/pages/index.js.4895f6b6734feb83c882.hot-update.js","sources":["webpack:///./components/CoronaApp.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport Input from './Input'\nimport Stats from './Stats'\nimport Header from './Header'\nimport useTime from '../utils/useTime'\nimport useTodayStats from '../utils/useTodayStats'\nimport useCountries from '../utils/useCountries'\nimport Chart from './Chart'\nimport Container from './Container'\nimport HeaderDescription from './HeaderDescription'\nimport CaseChart from './CaseChart'\nimport Select from 'react-select'\n\nconst allCountries = {\n  israel: '',\n  usa: '',\n  uk: '',\n  france: '',\n  lebanon: '',\n  germany: '',\n  poland: '',\n  russia: '',\n  india: '',\n  ukraine: '',\n  moldova: '',\n  spain: '',\n  italy: '',\n}\nconst translateCountries = countries => cn => countries[Object.keys(countries).filter(c => c === 'cn')]\n\n\nexport default ({ theme, lang}) => {\n\n  const [showWorld, setShowWorld] = useState(true)\n  const [country, setCountry] = useState('')\n  const [inputValue, setInput] = useState('')\n\n  const url = 'http://covid19.borisky.me:3003/api/v1/'\n\n  const { countryStats } = useTime(country)\n  const { todayStats } = useTodayStats(url, country)\n  const worldToday = useTodayStats(url, 'world').todayStats\n\n  const { countries } = useCountries()\n\n  const worldTodaySorted = worldToday &&\n    {\n      cases: worldToday.cases,\n      todayCases: worldToday.todayCases,\n      recovered: worldToday.recovered,\n      deaths: worldToday.deaths\n    } || ''\n\n  const todayStatsSorted = todayStats && \n    {\n      cases: todayStats.cases,\n      todayCases: todayStats.todayCases,\n      recovered: todayStats.recovered,\n      deaths: todayStats.deaths\n    } || ''\n\n  const handleChange = selected => setCountry(selected)\n  const handleSubmit = e => {\n    e.preventDefault();\n    setCountry(inputValue)\n  }\n\n  const selectOptions = countries && countries.map(a => ({ value: a, label: a }))\n\n  return (\n    <div>\n      <Header>Covid19 Feed</Header>\n      <HeaderDescription />\n\n      <Container>\n\n      {\n        countryStats &&\n          (\n              <Chart\n                isHeb={lang === 'heb'}\n                type='line'\n                labels={countryStats.labels}\n                data={countryStats.datasets.filter(a => a.label === 'cases')}\n                label={country || 'israel'}\n                theme={theme}\n                fill={true}\n              />\n          )\n      }\n      <Stats\n        cn={country || todayStats && todayStats.country}\n        todayStats={todayStatsSorted}\n        isHeb={lang === 'heb'}\n      />\n\n      <form \n        style={{ maxWidth: '520px', margin: '54px auto'}}\n        onSubmit={handleSubmit}>\n\n        <label style={{fontSize: '16px'}}>\n          {\n            lang === 'eng'\n            ? `Search For Country:`\n            : `חיפוש לפי מדינה`\n          }\n        </label>\n\n        <Select \n          options={selectOptions}\n          value={country}\n          onChange={handleChange}\n        />\n      </form>\n\n      <Stats\n        cn={'World'}\n        todayWorld={worldTodaySorted}\n        isHeb={lang==='heb'}\n      />\n\n      <CaseChart\n        showWorld={showWorld} \n        theme={theme}\n        country={country}\n        isHeb={lang === 'heb'}\n      />\n\n    </Container>\n\n    </div>\n  )\n  \n\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AACA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAKA;AACA;AAPA;AAAA;AACA;AADA;AAAA;AACA;AASA;AACA;AAXA;AAAA;AACA;AAaA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AAEA;AACA;AACA;AACA;AAJA;AACA;AAMA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;;;;A","sourceRoot":""}