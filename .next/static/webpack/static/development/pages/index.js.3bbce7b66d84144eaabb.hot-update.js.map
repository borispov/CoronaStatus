{"version":3,"file":"static/webpack/static/development/pages/index.js.3bbce7b66d84144eaabb.hot-update.js","sources":["webpack:///./components/InfoSection.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Container from './Container'\nimport styled from 'styled-components'\n\n// URL for getting the CSV data.\nconst baseURL = ''\n\n\nconst Wrapper = styled.div`\n  text-align: none;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-left: 15px;\n  margin-right: 15px;\n  margin-bottom: 32px;\n`\n\nconst Section = styled.div`\n  border-radius: 4px;\n  background: ${props => props.theme.bgColor};\n  color: ${props => props.theme.color};\n  flex: 0 0 50%;\n  max-width: 33%;\n  position: relative;\n  width: 100%;\n  border: 1px solid;\n  border-color: ${props => props.theme.statColor};\n  margin: 2px;\n`\n\nconst SectionTitle = styled.h2`\n  color: ${props => props.theme.btnColor};\n  background: ${props => props.theme.boxBg};\n  font-size: 20px;\n  padding: 4px 8px;\n  border-bottom: 1px solid black;\n`\n\nconst Link = styled.a`\n  text-decoration: none;\n  color: ${props => props.theme.statColor};\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n  padding: 0 4px;\n`\n\nconst Desc = styled.p`\n  font-size: 16px;\n  line-height: 1.22;\n  color: ${props => props.theme.color};\n  padding: 0 4px;\n`\n\nconst categories = ['health', 'education', 'activity']\n\n\nconst reduceToCat = (a, { category, ...x}) => ({ category, data: a['data'].concat(x) })\n\nconst initObj = { category: '', data: [] }\nconst mapCat = i => i.reduce(reduceToCat, initObj)\n\n\nconst mapDataToSection = (item, idx) => {\n  return (\n    <div key={idx}>\n      <Link href={item.link}>{item.subject}</Link>\n      <Desc>{item.description}</Desc>\n    </div>\n  )\n}\n\nconst renderSection = secData => {\n  return secData.map((it, ix) => (\n    <Section key={ix}>\n      <SectionTitle>\n        {it.category}\n      </SectionTitle>\n      {it.data.map(mapDataToSection)}\n    </Section>\n  ))\n}\n\nexport default () => {\n\n  const [data, setData] = useState()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    async function fetchData() {\n      setError()\n      try {\n\n        const init = { category: '', data: [] }\n        const { data } = await axios.get('https://covid19.borisky.me/api/data/resources')\n\n        console.log(Object.keys(data));\n        const d = Object\n          .keys(data)\n          .map(key => data[key].reduce(reduceToCat, init))\n        console.log(d);\n        setData(d)\n      } catch(e) {\n        setError(e)\n      }\n    }\n    fetchData()\n  }, [])\n\n\n  if (error) {\n    return <div> Received Error Fetching Information ... Let Me Know About This: boristofu@gmail.com</div>\n  }\n\n  console.log(data && data);\n\n  return (\n    <>\n      <h1 style={{fontSize: '24px', textAlign: 'center'}}>Useful Information For All</h1>\n\n      <Wrapper>\n\n        {\n          data && renderSection(data)\n        }\n\n{/*\n        {data && renderSection(data)}\n        <Section>\n        <SectionTitle>\n          בריאות\n        </SectionTitle>\n          {\n            healthData.map(mapDataToSection)\n          }\n        </Section>\n        <Section>\n          <SectionTitle>\n            לימודים\n          </SectionTitle>\n          {\n            eduData.map(mapDataToSection)\n          }\n        </Section>\n*/}\n\n      </Wrapper>\n\n    </>\n  )\n\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAMA;AAAA;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AAAA;AAAA;AAAA;AAEA;AAAA;AAOA;AAAA;AAAA;AAAA;AAGA;AAAA;AAIA;AACA;AAEA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAQA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAIA;AAAA;AAAA;AAAA;AAJA;AAAA;AACA;AADA;AAAA;AAKA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AAZA;AAAA;AACA;AADA;AAAA;AAAA;AAcA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAgBA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;;;;A","sourceRoot":""}