{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Container } from './S';\nimport styled from 'styled-components';\nvar Wrapper = styled.div.withConfig({\n  displayName: \"InfoSection__Wrapper\",\n  componentId: \"sc-1anhjcp-0\"\n})([\"direction:rtl;text-align:none;display:flex;flex-wrap:wrap;justify-content:center;font-family:Rubik;margin-left:15px;margin-right:15px;margin-bottom:32px;@media (max-width:768px){flex-direction:column;align-content:center;}\"]);\nvar Section = styled.div.withConfig({\n  displayName: \"InfoSection__Section\",\n  componentId: \"sc-1anhjcp-1\"\n})([\"border-radius:4px;flex:0 0 50%;max-width:33%;position:relative;width:100%;border:1px solid;border-color:\", \";background:\", \";margin-left:8px;margin-right:8px;margin-top:16px;margin-bottom:16px;@media (max-width:768px){flex-direction:column;flex:0 0 100%;max-width:85%;}\"], function (props) {\n  return props.theme.primaryColor;\n}, function (props) {\n  return props.theme.bgColor;\n});\nvar SectionTitle = styled.h2.withConfig({\n  displayName: \"InfoSection__SectionTitle\",\n  componentId: \"sc-1anhjcp-2\"\n})([\"color:\", \";background:\", \";font-size:20px;padding:4px 8px;margin-bottom:8px;border-bottom:1px solid black;\"], function (props) {\n  return props.theme.onPrimary;\n}, function (props) {\n  return props.theme.primaryColor;\n});\nvar Link = styled.a.withConfig({\n  displayName: \"InfoSection__Link\",\n  componentId: \"sc-1anhjcp-3\"\n})([\"text-decoration:none;color:\", \";font-weight:500;font-family:'Rubik';font-size:18px;line-height:1.8;padding:6px 4px 2px 4px;transition:color 0.15s ease-in-out;&:hover{color:\", \";}@media (max-width:768px){font-size:16px;}\"], function (props) {\n  return props.theme.primaryDark;\n}, function (props) {\n  return props.theme.primaryLight;\n});\nvar Desc = styled.p.withConfig({\n  displayName: \"InfoSection__Desc\",\n  componentId: \"sc-1anhjcp-4\"\n})([\"font-size:16px;line-height:1.3;color:\", \";padding:0 4px;padding-bottom:12px;@media (max-width:768px){font-size:14px;}\"], function (props) {\n  return props.theme.text.secondary;\n});\nvar Title = styled.h1.withConfig({\n  displayName: \"InfoSection__Title\",\n  componentId: \"sc-1anhjcp-5\"\n})([\"font-size:28px;margin:128px 12px auto;text-shadow:0 2px 6px rgba(0,0,0,0.16);text-align:center;color:\", \";\"], function (props) {\n  return props.theme.onBg;\n});\n\nvar reduceToCat = function reduceToCat(a, _ref) {\n  var category = _ref.category,\n      x = _objectWithoutProperties(_ref, [\"category\"]);\n\n  return {\n    category: category,\n    data: a['data'].concat(x)\n  };\n};\n\nvar init = {\n  category: '',\n  data: []\n}; // RENDERING functions\n\nvar mapDataToSection = function mapDataToSection(item, idx) {\n  return __jsx(\"div\", {\n    key: idx\n  }, __jsx(Link, {\n    href: item.link\n  }, item.subject), __jsx(Desc, null, item.description));\n};\n\nvar renderSection = function renderSection(secData) {\n  return secData.map(function (it, ix) {\n    return __jsx(Section, {\n      key: ix\n    }, __jsx(SectionTitle, null, it.category), it.data.map(mapDataToSection));\n  });\n};\n\nexport default (function () {\n  var _useState = useState(),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  useEffect(function () {\n    function fetchData() {\n      var _ref2, _data, datakeys, d;\n\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setError();\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.get('https://nCorona.live/api/data/resources'));\n\n            case 4:\n              _ref2 = _context.sent;\n              _data = _ref2.data;\n              datakeys = _toConsumableArray(new Set(_data.map(function (i) {\n                return i.category;\n              })));\n              d = datakeys.map(function (key) {\n                return _data.filter(function (i) {\n                  return i.category === key;\n                });\n              }).map(function (each) {\n                return each.reduce(reduceToCat, init);\n              });\n              setData(d);\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              setError(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 11]], Promise);\n    }\n\n    fetchData();\n  }, []);\n\n  if (error) {\n    return __jsx(\"div\", null, \" Received Error Fetching Information ... Let Me Know About This: boristofu@gmail.com\");\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Title, null, \"Resources\"), __jsx(Wrapper, null, data && renderSection(data)));\n});","map":null,"metadata":{},"sourceType":"module"}