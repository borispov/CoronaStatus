{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Users/raypo/Desktop/Projectos/CoronaStatus/components/CaseChart.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport axios from 'axios';\nimport useTime from '../utils/useTime';\nimport sortForChart from '../utils/sortForChart';\nimport Chart from './Chart';\nimport Container from './Container';\n\nvar worldTimeData = function worldTimeData() {\n  var baseURL, data, dataRes;\n  return _regeneratorRuntime.async(function worldTimeData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          baseURL = \"http://covid19.borisky.me:3003/api/v1/alltime/\";\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(axios.get(baseURL));\n\n        case 3:\n          data = _context.sent;\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(sortForChart(data.data));\n\n        case 6:\n          dataRes = _context.sent;\n          return _context.abrupt(\"return\", dataRes);\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar CaseChart = /*#__PURE__*/function (_React$Component) {\n  _inherits(CaseChart, _React$Component);\n\n  function CaseChart() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CaseChart);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CaseChart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      country: '',\n      worldData: [],\n      countryData: [],\n      worldLabels: [],\n      countryLabels: [],\n      worldCases: [],\n      countryCases: [],\n      showWorld: true\n    });\n\n    return _this;\n  }\n\n  _createClass(CaseChart, [{\n    key: \"setShowWorld\",\n    value: function setShowWorld() {\n      var showWorld = !this.state.showWorld;\n      this.setState({\n        showWorld: showWorld\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _ref, timeStats, worldCases;\n\n      return _regeneratorRuntime.async(function componentDidMount$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(worldTimeData());\n\n            case 2:\n              _ref = _context2.sent;\n              timeStats = _ref.timeStats;\n              // const { countryStats } = useTime()\n              worldCases = timeStats && timeStats.datasets.filter(function (a) {\n                return a.label === 'cases';\n              }); // const countryCases = countryStats && countryStats.datasets.filter(a => a.label === 'cases')\n\n              console.log(timeStats);\n              this.setState({\n                worldData: timeStats,\n                // countryData: countryStats,\n                worldCases: worldCases // countryCases\n\n              });\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return CaseChart;\n}(React.Component);\n\nexport default CaseChart;","map":{"version":3,"sources":["/Users/raypo/Desktop/Projectos/CoronaStatus/components/CaseChart.js"],"names":["React","axios","useTime","sortForChart","Chart","Container","worldTimeData","baseURL","get","data","dataRes","CaseChart","country","worldData","countryData","worldLabels","countryLabels","worldCases","countryCases","showWorld","state","setState","timeStats","datasets","filter","a","label","console","log","Component"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAGA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AACdC,UAAAA,OADc;AAAA;AAAA,2CAEDN,KAAK,CAACO,GAAN,CAAUD,OAAV,CAFC;;AAAA;AAEdE,UAAAA,IAFc;AAAA;AAAA,2CAGEN,YAAY,CAACM,IAAI,CAACA,IAAN,CAHd;;AAAA;AAGdC,UAAAA,OAHc;AAAA,2CAMbA,OANa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAtB;;IASMC,S;;;;;;;;;;;;;;;;4DAEI;AACNC,MAAAA,OAAO,EAAE,EADH;AAENC,MAAAA,SAAS,EAAE,EAFL;AAGNC,MAAAA,WAAW,EAAE,EAHP;AAINC,MAAAA,WAAW,EAAE,EAJP;AAKNC,MAAAA,aAAa,EAAE,EALT;AAMNC,MAAAA,UAAU,EAAE,EANN;AAONC,MAAAA,YAAY,EAAE,EAPR;AAQNC,MAAAA,SAAS,EAAE;AARL,K;;;;;;;mCAWO;AACb,UAAMA,SAAS,GAAG,CAAC,KAAKC,KAAL,CAAWD,SAA9B;AACA,WAAKE,QAAL,CAAc;AAAEF,QAAAA,SAAS,EAATA;AAAF,OAAd;AACD;;;;;;;;;;;+CAG6Bb,aAAa,E;;;;AAAjCgB,cAAAA,S,QAAAA,S;AACR;AAEML,cAAAA,U,GAAaK,SAAS,IAAIA,SAAS,CAACC,QAAV,CAAmBC,MAAnB,CAA0B,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACC,KAAF,KAAY,OAAhB;AAAA,eAA3B,C,EAChC;;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAYN,SAAZ;AAEA,mBAAKD,QAAL,CAAc;AACZR,gBAAAA,SAAS,EAAES,SADC;AAEZ;AACAL,gBAAAA,UAAU,EAAVA,UAHY,CAIZ;;AAJY,eAAd;;;;;;;;;;;6BASO;AACP,aACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAGD;;;;EAvCqBjB,KAAK,CAAC6B,S;;AA2C9B,eAAelB,SAAf","sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport useTime from '../utils/useTime'\nimport sortForChart from '../utils/sortForChart'\nimport Chart from './Chart'\nimport Container from './Container'\n\n\nconst worldTimeData = async () => {\n  const baseURL = `http://covid19.borisky.me:3003/api/v1/alltime/`\n  const data = await axios.get(baseURL)\n  const dataRes = await sortForChart(data.data)\n      // .then(res => sortForChart(res.data))\n      // .catch(err => console.log(err))\n  return dataRes\n}\n\nclass CaseChart extends React.Component {\n\n  state = {\n    country: '',\n    worldData: [],\n    countryData: [],\n    worldLabels: [],\n    countryLabels: [],\n    worldCases: [],\n    countryCases: [],\n    showWorld: true\n  }\n\n  setShowWorld() {\n    const showWorld = !this.state.showWorld\n    this.setState({ showWorld })\n  }\n\n  async componentDidMount() {\n    const { timeStats } = await worldTimeData()\n    // const { countryStats } = useTime()\n\n    const worldCases = timeStats && timeStats.datasets.filter(a => a.label === 'cases')\n    // const countryCases = countryStats && countryStats.datasets.filter(a => a.label === 'cases')\n    console.log(timeStats);\n\n    this.setState({\n      worldData: timeStats,\n      // countryData: countryStats,\n      worldCases,\n      // countryCases\n    })\n\n  }\n\n  render() {\n    return (\n      <Container />\n    )\n  }\n\n}\n\nexport default CaseChart\n"]},"metadata":{},"sourceType":"module"}