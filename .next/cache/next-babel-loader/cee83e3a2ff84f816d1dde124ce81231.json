{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/raypo/Desktop/Projectos/CoronaStatus/components/InfoSection.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Container } from './S';\nimport styled from 'styled-components';\nvar Wrapper = styled.div.withConfig({\n  displayName: \"InfoSection__Wrapper\",\n  componentId: \"sc-1anhjcp-0\"\n})([\"text-align:none;display:flex;flex-wrap:wrap;justify-content:center;font-family:Roboto;margin-left:15px;margin-right:15px;margin-bottom:32px;@media (max-width:768px){flex-direction:column;align-content:center;}\"]);\nvar Section = styled.div.withConfig({\n  displayName: \"InfoSection__Section\",\n  componentId: \"sc-1anhjcp-1\"\n})([\"border-radius:4px;flex:0 0 50%;max-width:33%;position:relative;width:100%;border:1px solid;border-color:\", \";background:\", \";margin-left:8px;margin-right:8px;margin-top:16px;margin-bottom:16px;@media (max-width:768px){flex-direction:column;flex:0 0 100%;max-width:85%;}\"], function (props) {\n  return props.theme.primaryColor;\n}, function (props) {\n  return props.theme.bgColor;\n});\nvar SectionTitle = styled.h2.withConfig({\n  displayName: \"InfoSection__SectionTitle\",\n  componentId: \"sc-1anhjcp-2\"\n})([\"color:\", \";background:\", \";font-size:20px;padding:4px 8px;margin-bottom:8px;border-bottom:1px solid black;\"], function (props) {\n  return props.theme.onPrimary;\n}, function (props) {\n  return props.theme.primaryLight;\n});\nvar Link = styled.a.withConfig({\n  displayName: \"InfoSection__Link\",\n  componentId: \"sc-1anhjcp-3\"\n})([\"text-decoration:none;color:\", \";font-weight:700 !important;font-size:18px;line-height:1.8;padding:6px 4px 2px 4px;@media (max-width:768px){font-size:16px;}\"], function (props) {\n  return props.theme.primaryColor;\n});\nvar Desc = styled.p.withConfig({\n  displayName: \"InfoSection__Desc\",\n  componentId: \"sc-1anhjcp-4\"\n})([\"font-size:16px;line-height:1.3;color:\", \";padding:0 4px;padding-bottom:12px;@media (max-width:768px){font-size:14px;}\"], function (props) {\n  return props.theme.text.secondary;\n});\nvar Title = styled.h1.withConfig({\n  displayName: \"InfoSection__Title\",\n  componentId: \"sc-1anhjcp-5\"\n})([\"font-size:28px;margin:128px 12px auto;text-shadow:0 2px 6px rgba(0,0,0,0.16);text-align:center;color:\", \";\"], function (props) {\n  return props.theme.onBg;\n});\n\nvar reduceToCat = function reduceToCat(a, _ref) {\n  var category = _ref.category,\n      x = _objectWithoutProperties(_ref, [\"category\"]);\n\n  return {\n    category: category,\n    data: a['data'].concat(x)\n  };\n};\n\nvar init = {\n  category: '',\n  data: []\n}; // RENDERING functions\n\nvar mapDataToSection = function mapDataToSection(item, idx) {\n  return __jsx(\"div\", {\n    key: idx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: item.link,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, item.subject), __jsx(Desc, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, item.description));\n};\n\nvar renderSection = function renderSection(secData) {\n  return secData.map(function (it, ix) {\n    return __jsx(Section, {\n      key: ix,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, __jsx(SectionTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, it.category), it.data.map(mapDataToSection));\n  });\n};\n\nexport default (function () {\n  var _useState = useState(),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  useEffect(function () {\n    function fetchData() {\n      var _ref2, _data, datakeys, d;\n\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setError();\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.get('https://nCorona.live/api/data/resources'));\n\n            case 4:\n              _ref2 = _context.sent;\n              _data = _ref2.data;\n              datakeys = _toConsumableArray(new Set(_data.map(function (i) {\n                return i.category;\n              })));\n              d = datakeys.map(function (key) {\n                return _data.filter(function (i) {\n                  return i.category === key;\n                });\n              }).map(function (each) {\n                return each.reduce(reduceToCat, init);\n              });\n              setData(d);\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](1);\n              setError(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 11]], Promise);\n    }\n\n    fetchData();\n  }, []);\n\n  if (error) {\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \" Received Error Fetching Information ... Let Me Know About This: boristofu@gmail.com\");\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Resources\"), __jsx(Wrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, data && renderSection(data)));\n});","map":{"version":3,"sources":["/Users/raypo/Desktop/Projectos/CoronaStatus/components/InfoSection.js"],"names":["useState","useEffect","axios","Container","styled","Wrapper","div","Section","props","theme","primaryColor","bgColor","SectionTitle","h2","onPrimary","primaryLight","Link","a","Desc","p","text","secondary","Title","h1","onBg","reduceToCat","category","x","data","concat","init","mapDataToSection","item","idx","link","subject","description","renderSection","secData","map","it","ix","setData","error","setError","fetchData","get","datakeys","Set","i","d","key","filter","each","reduce"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { Container } from './S'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  text-align: none;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  font-family: Roboto;\n  margin-left: 15px;\n  margin-right: 15px;\n  margin-bottom: 32px;\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-content: center;\n  }\n`\n\nconst Section = styled.div`\n  border-radius: 4px;\n  flex: 0 0 50%;\n  max-width: 33%;\n  position: relative;\n  width: 100%;\n  border: 1px solid;\n  border-color: ${props => props.theme.primaryColor};\n  background: ${props => props.theme.bgColor};\n  margin-left: 8px;\n  margin-right: 8px;\n  margin-top: 16px;\n  margin-bottom: 16px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    flex: 0 0 100%;\n    max-width: 85%;\n  }\n`\n\nconst SectionTitle = styled.h2`\n  color: ${props => props.theme.onPrimary};\n  background: ${props => props.theme.primaryLight};\n  font-size: 20px;\n  padding: 4px 8px;\n  margin-bottom: 8px;\n  border-bottom: 1px solid black;\n`\n\nconst Link = styled.a`\n  text-decoration: none;\n  color: ${props => props.theme.primaryColor};\n  font-weight: 700 !important;\n  font-size: 18px;\n  line-height: 1.8;\n  padding: 6px 4px 2px 4px;\n  @media (max-width: 768px) {\n    font-size: 16px;\n  }\n`\n\nconst Desc = styled.p`\n  font-size: 16px;\n  line-height: 1.3;\n  color: ${props => props.theme.text.secondary};\n  padding: 0 4px;\n  padding-bottom: 12px;\n  @media (max-width: 768px) {\n    font-size: 14px;\n  }\n`\n\nconst Title = styled.h1`\n  font-size: 28px;\n  margin: 128px 12px auto;\n  text-shadow: 0 2px 6px rgba(0,0,0,0.16);\n  text-align: center;\n  color: ${props => props.theme.onBg};\n`\n\nconst reduceToCat = (a, { category, ...x}) => ({ category, data: a['data'].concat(x) })\nconst init = { category: '', data: [] }\n\n// RENDERING functions\nconst mapDataToSection = (item, idx) => {\n  return (\n    <div key={idx}>\n      <Link href={item.link}>{item.subject}</Link>\n      <Desc>{item.description}</Desc>\n    </div>\n  )\n}\n\nconst renderSection = secData => {\n  return secData.map((it, ix) => (\n    <Section key={ix}>\n      <SectionTitle>\n        {it.category}\n      </SectionTitle>\n      {it.data.map(mapDataToSection)}\n    </Section>\n  ))\n}\n\nexport default () => {\n\n  const [data, setData] = useState()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    async function fetchData() {\n      setError()\n      try {\n\n        const { data } = await axios.get('https://nCorona.live/api/data/resources')\n\n        const datakeys = [...new Set(data.map(i => i.category))]\n        const d = datakeys\n            .map(key => data.filter(i => i.category === key))\n            .map(each => each.reduce(reduceToCat, init))\n\n        setData(d)\n      } catch(e) {\n        setError(e)\n      }\n    }\n    fetchData()\n  }, [])\n\n\n  if (error) {\n    return <div> Received Error Fetching Information ... Let Me Know About This: boristofu@gmail.com</div>\n  }\n\n  return (\n    <>\n      <Title>Resources</Title>\n      <Wrapper>\n        { data && renderSection(data) }\n      </Wrapper>\n    </>\n  )\n\n}\n"]},"metadata":{},"sourceType":"module"}