{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/raypo/Desktop/Projectos/CoronaStatus/components/InfoSection.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Container from './Container';\nimport styled from 'styled-components'; // URL for getting the CSV data.\n\nvar baseURL = '';\nvar Wrapper = styled.div.withConfig({\n  displayName: \"InfoSection__Wrapper\",\n  componentId: \"sc-1anhjcp-0\"\n})([\"text-align:none;display:flex;flex-wrap:wrap;justify-content:center;margin-left:15px;margin-right:15px;margin-bottom:32px;\"]);\nvar Section = styled.div.withConfig({\n  displayName: \"InfoSection__Section\",\n  componentId: \"sc-1anhjcp-1\"\n})([\"border-radius:4px;background:\", \";color:\", \";flex:0 0 50%;max-width:33%;position:relative;width:100%;border:1px solid;border-color:\", \";margin:2px;\"], function (props) {\n  return props.theme.bgColor;\n}, function (props) {\n  return props.theme.color;\n}, function (props) {\n  return props.theme.statColor;\n});\nvar SectionTitle = styled.h2.withConfig({\n  displayName: \"InfoSection__SectionTitle\",\n  componentId: \"sc-1anhjcp-2\"\n})([\"color:\", \";background:\", \";font-size:20px;padding:4px 8px;border-bottom:1px solid black;\"], function (props) {\n  return props.theme.btnColor;\n}, function (props) {\n  return props.theme.boxBg;\n});\nvar Link = styled.a.withConfig({\n  displayName: \"InfoSection__Link\",\n  componentId: \"sc-1anhjcp-3\"\n})([\"text-decoration:none;color:\", \";font-weight:700;font-size:18px;line-height:1.5;padding:0 4px;\"], function (props) {\n  return props.theme.statColor;\n});\nvar Desc = styled.p.withConfig({\n  displayName: \"InfoSection__Desc\",\n  componentId: \"sc-1anhjcp-4\"\n})([\"font-size:16px;line-height:1.22;color:\", \";padding:0 4px;\"], function (props) {\n  return props.theme.color;\n});\nvar categories = ['health', 'education', 'activity'];\n\nvar reduceToCat = function reduceToCat(a, _ref) {\n  var category = _ref.category,\n      x = _objectWithoutProperties(_ref, [\"category\"]);\n\n  return {\n    category: category,\n    data: [].concat.apply(_objectSpread({}, x), a.data)\n  };\n};\n\nvar initObj = {\n  category: '',\n  data: []\n};\n\nvar mapCat = function mapCat(_ref2) {\n  var subject = _ref2.subject,\n      link = _ref2.link,\n      description = _ref2.description,\n      category = _ref2.category;\n  return {\n    category: category,\n    data: [{\n      subject: subject,\n      link: link,\n      description: description\n    }]\n  };\n};\n\nvar mapToCat = function mapToCat(i) {\n  return i.reduce(reduceToCat, initObj);\n};\n\nvar mapDataToSection = function mapDataToSection(item, idx) {\n  return __jsx(\"div\", {\n    key: idx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, __jsx(Desc, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, item.desc));\n};\n\nvar renderSection = function renderSection(secData) {\n  return secData.map(function (it, ix) {\n    return __jsx(Section, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, __jsx(SectionTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, it.category), it.data.map(mapDataToSection));\n  });\n};\n\nexport default (function () {\n  var _useState = useState(),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  useEffect(function () {\n    function fetchData() {\n      var _ref3, _data, arr, health, education, d;\n\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setError();\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.get('https://covid19.borisky.me/api/data/resources'));\n\n            case 4:\n              _ref3 = _context.sent;\n              _data = _ref3.data;\n              arr = Object.keys(_data).map(function (key) {\n                return _data[key].map(function (a) {\n                  return a.map;\n                });\n              });\n              console.log(arr);\n              health = _data.health.map(mapCat).reduce(reduceToCat);\n              education = _data.education.map(mapCat).reduce(reduceToCat);\n              d = Object.assign({}, [health, education]);\n              console.log(d);\n              setData(d);\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](1);\n              setError(_context.t0);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 15]], Promise);\n    }\n\n    fetchData();\n  }, []);\n\n  if (error) {\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \" Received Error Fetching Information ... Let Me Know About This: boristofu@gmail.com\");\n  }\n\n  console.log(data && data);\n  return __jsx(React.Fragment, null, __jsx(\"h1\", {\n    style: {\n      fontSize: '24px',\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Useful Information For All\"), __jsx(Wrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }));\n});","map":{"version":3,"sources":["/Users/raypo/Desktop/Projectos/CoronaStatus/components/InfoSection.js"],"names":["useState","useEffect","axios","Container","styled","baseURL","Wrapper","div","Section","props","theme","bgColor","color","statColor","SectionTitle","h2","btnColor","boxBg","Link","a","Desc","p","categories","reduceToCat","category","x","data","concat","apply","initObj","mapCat","subject","link","description","mapToCat","i","reduce","mapDataToSection","item","idx","desc","renderSection","secData","map","it","ix","setData","error","setError","fetchData","get","arr","Object","keys","key","console","log","health","education","d","assign","fontSize","textAlign"],"mappings":";;;;;;;;;;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CAEA;;AACA,IAAMC,OAAO,GAAG,EAAhB;AAEA,IAAMC,OAAO,GAAGF,MAAM,CAACG,GAAV;AAAA;AAAA;AAAA,iIAAb;AAUA,IAAMC,OAAO,GAAGJ,MAAM,CAACG,GAAV;AAAA;AAAA;AAAA,4JAEG,UAAAE,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYC,OAAhB;AAAA,CAFR,EAGF,UAAAF,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYE,KAAhB;AAAA,CAHH,EASK,UAAAH,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYG,SAAhB;AAAA,CATV,CAAb;AAaA,IAAMC,YAAY,GAAGV,MAAM,CAACW,EAAV;AAAA;AAAA;AAAA,iGACP,UAAAN,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYM,QAAhB;AAAA,CADE,EAEF,UAAAP,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYO,KAAhB;AAAA,CAFH,CAAlB;AAQA,IAAMC,IAAI,GAAGd,MAAM,CAACe,CAAV;AAAA;AAAA;AAAA,sGAEC,UAAAV,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYG,SAAhB;AAAA,CAFN,CAAV;AASA,IAAMO,IAAI,GAAGhB,MAAM,CAACiB,CAAV;AAAA;AAAA;AAAA,kEAGC,UAAAZ,KAAK;AAAA,SAAIA,KAAK,CAACC,KAAN,CAAYE,KAAhB;AAAA,CAHN,CAAV;AAOA,IAAMU,UAAU,GAAG,CAAC,QAAD,EAAW,WAAX,EAAwB,UAAxB,CAAnB;;AAGA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACJ,CAAD;AAAA,MAAMK,QAAN,QAAMA,QAAN;AAAA,MAAmBC,CAAnB;;AAAA,SAA4B;AAAED,IAAAA,QAAQ,EAARA,QAAF;AAAYE,IAAAA,IAAI,EAAE,GAAGC,MAAH,CAAUC,KAAV,mBAAoBH,CAApB,GAAwBN,CAAC,CAACO,IAA1B;AAAlB,GAA5B;AAAA,CAApB;;AAEA,IAAMG,OAAO,GAAG;AAAEL,EAAAA,QAAQ,EAAE,EAAZ;AAAgBE,EAAAA,IAAI,EAAE;AAAtB,CAAhB;;AAEA,IAAMI,MAAM,GAAG,SAATA,MAAS;AAAA,MAAEC,OAAF,SAAEA,OAAF;AAAA,MAAWC,IAAX,SAAWA,IAAX;AAAA,MAAiBC,WAAjB,SAAiBA,WAAjB;AAAA,MAA8BT,QAA9B,SAA8BA,QAA9B;AAAA,SAA6C;AAAEA,IAAAA,QAAQ,EAARA,QAAF;AAAYE,IAAAA,IAAI,EAAE,CAAC;AAAEK,MAAAA,OAAO,EAAPA,OAAF;AAAWC,MAAAA,IAAI,EAAJA,IAAX;AAAiBC,MAAAA,WAAW,EAAXA;AAAjB,KAAD;AAAlB,GAA7C;AAAA,CAAf;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,CAAC;AAAA,SAAIA,CAAC,CAACC,MAAF,CAASb,WAAT,EAAsBM,OAAtB,CAAJ;AAAA,CAAlB;;AAEA,IAAMQ,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,IAAD,EAAOC,GAAP,EAAe;AACtC,SACE;AAAK,IAAA,GAAG,EAAEA,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOD,IAAI,CAACE,IAAZ,CAFF,CADF;AAMD,CAPD;;AASA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,OAAO,EAAI;AAC/B,SAAOA,OAAO,CAACC,GAAR,CAAY,UAACC,EAAD,EAAKC,EAAL;AAAA,WACjB,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,EAAE,CAACpB,QADN,CADF,EAIGoB,EAAE,CAAClB,IAAH,CAAQiB,GAAR,CAAYN,gBAAZ,CAJH,CADiB;AAAA,GAAZ,CAAP;AAQD,CATD;;AAWA,gBAAe,YAAM;AAAA,kBAEKrC,QAAQ,EAFb;AAAA,MAEZ0B,IAFY;AAAA,MAENoB,OAFM;;AAAA,mBAGO9C,QAAQ,EAHf;AAAA,MAGZ+C,KAHY;AAAA,MAGLC,QAHK;;AAKnB/C,EAAAA,SAAS,CAAC,YAAM;AACd,aAAegD,SAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AACED,cAAAA,QAAQ;AADV;AAAA;AAAA,+CAY2B9C,KAAK,CAACgD,GAAN,CAAU,+CAAV,CAZ3B;;AAAA;AAAA;AAYYxB,cAAAA,KAZZ,SAYYA,IAZZ;AAcUyB,cAAAA,GAdV,GAcgBC,MAAM,CAACC,IAAP,CAAY3B,KAAZ,EAAkBiB,GAAlB,CAAsB,UAAAW,GAAG;AAAA,uBAAI5B,KAAI,CAAC4B,GAAD,CAAJ,CAAUX,GAAV,CAAc,UAAAxB,CAAC;AAAA,yBAAIA,CAAC,CAACwB,GAAN;AAAA,iBAAf,CAAJ;AAAA,eAAzB,CAdhB;AAgBIY,cAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACMM,cAAAA,MAjBV,GAiBmB/B,KAAI,CAAC+B,MAAL,CACZd,GADY,CACRb,MADQ,EAEZM,MAFY,CAELb,WAFK,CAjBnB;AAqBUmC,cAAAA,SArBV,GAqBsBhC,KAAI,CAACgC,SAAL,CACff,GADe,CACXb,MADW,EAEfM,MAFe,CAERb,WAFQ,CArBtB;AAyBUoC,cAAAA,CAzBV,GAyBcP,MAAM,CAACQ,MAAP,CAAc,EAAd,EAAkB,CAAEH,MAAF,EAAUC,SAAV,CAAlB,CAzBd;AA2BIH,cAAAA,OAAO,CAACC,GAAR,CAAYG,CAAZ;AACAb,cAAAA,OAAO,CAACa,CAAD,CAAP;AA5BJ;AAAA;;AAAA;AAAA;AAAA;AA8BIX,cAAAA,QAAQ,aAAR;;AA9BJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAiCAC,IAAAA,SAAS;AACV,GAnCQ,EAmCN,EAnCM,CAAT;;AAsCA,MAAIF,KAAJ,EAAW;AACT,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8FAAP;AACD;;AAEDQ,EAAAA,OAAO,CAACC,GAAR,CAAY9B,IAAI,IAAIA,IAApB;AAEA,SACE,4BACE;AAAI,IAAA,KAAK,EAAE;AAACmC,MAAAA,QAAQ,EAAE,MAAX;AAAmBC,MAAAA,SAAS,EAAE;AAA9B,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAGE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF;AAgCD,CAjFD","sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Container from './Container'\nimport styled from 'styled-components'\n\n// URL for getting the CSV data.\nconst baseURL = ''\n\nconst Wrapper = styled.div`\n  text-align: none;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  margin-left: 15px;\n  margin-right: 15px;\n  margin-bottom: 32px;\n`\n\nconst Section = styled.div`\n  border-radius: 4px;\n  background: ${props => props.theme.bgColor};\n  color: ${props => props.theme.color};\n  flex: 0 0 50%;\n  max-width: 33%;\n  position: relative;\n  width: 100%;\n  border: 1px solid;\n  border-color: ${props => props.theme.statColor};\n  margin: 2px;\n`\n\nconst SectionTitle = styled.h2`\n  color: ${props => props.theme.btnColor};\n  background: ${props => props.theme.boxBg};\n  font-size: 20px;\n  padding: 4px 8px;\n  border-bottom: 1px solid black;\n`\n\nconst Link = styled.a`\n  text-decoration: none;\n  color: ${props => props.theme.statColor};\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n  padding: 0 4px;\n`\n\nconst Desc = styled.p`\n  font-size: 16px;\n  line-height: 1.22;\n  color: ${props => props.theme.color};\n  padding: 0 4px;\n`\n\nconst categories = ['health', 'education', 'activity']\n\n\nconst reduceToCat = (a, { category, ...x }) => ({ category, data: [].concat.apply({...x}, a.data) })\n\nconst initObj = { category: '', data: [] }\n\nconst mapCat = ({subject, link, description, category}) => ({ category, data: [{ subject, link, description }] })\n\nconst mapToCat = i => i.reduce(reduceToCat, initObj)\n\nconst mapDataToSection = (item, idx) => {\n  return (\n    <div key={idx}>\n      \n      <Desc>{item.desc}</Desc>\n    </div>\n  )\n}\n\nconst renderSection = secData => {\n  return secData.map((it, ix) => (\n    <Section>\n      <SectionTitle>\n        {it.category}\n      </SectionTitle>\n      {it.data.map(mapDataToSection)}\n    </Section>\n  ))\n}\n\nexport default () => {\n\n  const [data, setData] = useState()\n  const [error, setError] = useState()\n\n  useEffect(() => {\n    async function fetchData() {\n      setError()\n      try {\n\n\n        // const { data } = await axios.get('https://covid19.borisky.me/api/data/resources')\n        // console.log( data);\n        //\n        // const d = Object\n        //             .keys(data)\n        //             .map(o => data[o].map(mapCat).reduce(reduceToCat))\n\n        const { data } = await axios.get('https://covid19.borisky.me/api/data/resources')\n\n        const arr = Object.keys(data).map(key => data[key].map(a => a.map))\n\n        console.log(arr);\n        const health = data.health\n          .map(mapCat)\n          .reduce(reduceToCat)\n\n        const education = data.education\n          .map(mapCat)\n          .reduce(reduceToCat)\n\n        const d = Object.assign({}, [ health, education ])\n\n        console.log(d);\n        setData(d)\n      } catch(e) {\n        setError(e)\n      }\n    }\n    fetchData()\n  }, [])\n\n\n  if (error) {\n    return <div> Received Error Fetching Information ... Let Me Know About This: boristofu@gmail.com</div>\n  }\n\n  console.log(data && data);\n\n  return (\n    <>\n      <h1 style={{fontSize: '24px', textAlign: 'center'}}>Useful Information For All</h1>\n\n      <Wrapper>\n\n\n{/*\n        {data && renderSection(data)}\n        <Section>\n        <SectionTitle>\n          בריאות\n        </SectionTitle>\n          {\n            healthData.map(mapDataToSection)\n          }\n        </Section>\n        <Section>\n          <SectionTitle>\n            לימודים\n          </SectionTitle>\n          {\n            eduData.map(mapDataToSection)\n          }\n        </Section>\n*/}\n\n      </Wrapper>\n\n    </>\n  )\n\n}\n"]},"metadata":{},"sourceType":"module"}