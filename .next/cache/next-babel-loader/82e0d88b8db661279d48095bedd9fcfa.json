{"ast":null,"code":"var _jsxFileName = \"/Users/raypo/Desktop/Projectos/CoronaStatus/context/proxy-context.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useRef, createContext } from 'react';\nexport var ProxyContext = createContext();\nexport var ProxyContextProvider = function ProxyContextProvider(props) {\n  var initialState = {\n    ipAddress: '0.0.0.0',\n    countryName: 'israel'\n  }; // Declare shareable proxy state\n\n  var _useState = useState(initialState),\n      proxy = _useState[0],\n      setProxy = _useState[1];\n\n  var prev = useRef(); // Read and Write Proxy State to Local Storage\n\n  useEffect(function () {\n    if (proxy.countryName == 'israel') {\n      var localState = JSON.parse(localStorage.getItem('ip2proxy'));\n      console.log(localState);\n\n      if (localState) {\n        console.info('reading local storage');\n        prev.current = localState.ipAddress;\n        setProxy(localState);\n      }\n    } else if (prev.current !== proxy.ipAddress) {\n      console.info('writing local storage');\n      localStorage.setItem('ip2proxy', JSON.stringify(proxy));\n    }\n  }, [proxy]);\n  return __jsx(ProxyContext.Provider, {\n    value: [proxy, setProxy],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, props.children);\n};","map":{"version":3,"sources":["/Users/raypo/Desktop/Projectos/CoronaStatus/context/proxy-context.js"],"names":["React","useState","useEffect","useRef","createContext","ProxyContext","ProxyContextProvider","props","initialState","ipAddress","countryName","proxy","setProxy","prev","localState","JSON","parse","localStorage","getItem","console","log","info","current","setItem","stringify","children"],"mappings":";;AAAA,OAAOA,KAAP,IACIC,QADJ,EAEIC,SAFJ,EAGIC,MAHJ,EAIIC,aAJJ,QAKO,OALP;AAOA,OAAO,IAAMC,YAAY,GAAGD,aAAa,EAAlC;AAEP,OAAO,IAAME,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,KAAD,EAAW;AAC3C,MAAMC,YAAY,GAAG;AACjBC,IAAAA,SAAS,EAAE,SADM;AAEjBC,IAAAA,WAAW,EAAE;AAFI,GAArB,CAD2C,CAM3C;;AAN2C,kBAOjBT,QAAQ,CAACO,YAAD,CAPS;AAAA,MAOpCG,KAPoC;AAAA,MAO7BC,QAP6B;;AAQ3C,MAAMC,IAAI,GAAGV,MAAM,EAAnB,CAR2C,CAU3C;;AACAD,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIS,KAAK,CAACD,WAAN,IAAqB,QAAzB,EAAmC;AAC/B,UAAMI,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAnB;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYN,UAAZ;;AACE,UAAIA,UAAJ,EAAgB;AACZK,QAAAA,OAAO,CAACE,IAAR,CAAa,uBAAb;AACAR,QAAAA,IAAI,CAACS,OAAL,GAAeR,UAAU,CAACL,SAA1B;AACAG,QAAAA,QAAQ,CAACE,UAAD,CAAR;AACH;AACJ,KARD,MAQO,IAAID,IAAI,CAACS,OAAL,KAAiBX,KAAK,CAACF,SAA3B,EAAsC;AACzCU,MAAAA,OAAO,CAACE,IAAR,CAAa,uBAAb;AACAJ,MAAAA,YAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCR,IAAI,CAACS,SAAL,CAAeb,KAAf,CAAjC;AACH;AACJ,GAbQ,EAaN,CAACA,KAAD,CAbM,CAAT;AAeA,SACI,MAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE,CAACA,KAAD,EAAQC,QAAR,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKL,KAAK,CAACkB,QADX,CADJ;AAKH,CA/BM","sourcesContent":["import React, {\n    useState,\n    useEffect,\n    useRef,\n    createContext\n} from 'react'\n\nexport const ProxyContext = createContext()\n\nexport const ProxyContextProvider = (props) => {\n    const initialState = {\n        ipAddress: '0.0.0.0',\n        countryName: 'israel',\n    }\n\n    // Declare shareable proxy state\n    const [proxy, setProxy] = useState(initialState)\n    const prev = useRef()\n\n    // Read and Write Proxy State to Local Storage\n    useEffect(() => {\n        if (proxy.countryName == 'israel') {\n            const localState = JSON.parse(localStorage.getItem('ip2proxy'))\n          console.log(localState);\n            if (localState) {\n                console.info('reading local storage')\n                prev.current = localState.ipAddress\n                setProxy(localState)\n            }\n        } else if (prev.current !== proxy.ipAddress) {\n            console.info('writing local storage')\n            localStorage.setItem('ip2proxy', JSON.stringify(proxy))\n        }\n    }, [proxy])\n\n    return(\n        <ProxyContext.Provider value={[proxy, setProxy]}>\n            {props.children}\n        </ProxyContext.Provider>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}