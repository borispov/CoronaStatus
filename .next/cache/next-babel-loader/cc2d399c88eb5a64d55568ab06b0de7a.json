{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styled, { withTheme } from 'styled-components';\nimport * as S from '../components/S';\nimport axios from 'axios';\nimport dateHeb from '../utils/dateHeb';\nimport useMobileDetect from '../utils/isMobile';\nvar sourceList = {\n  maariv: 'מעריב',\n  ynet: 'YNET',\n  israelhayom: 'ישראל היום'\n};\nvar Wrapper = styled.div.withConfig({\n  displayName: \"News__Wrapper\",\n  componentId: \"sc-1dpkj34-0\"\n})([\"margin:0 auto;width:85%;direction:rtl;transition:all .6s ease-in-out;@media (max-width:768px){width:100%;max-width:100%;}\"]);\nvar NewsCard = styled.div.withConfig({\n  displayName: \"News__NewsCard\",\n  componentId: \"sc-1dpkj34-1\"\n})([\"display:flex;border-radius:6px;border:1px solid \", \";border-top:4px solid \", \";flex-direction:column;width:100%;max-width:100%;justify-content:space-between;margin:16px auto;height:auto;@media (max-width:568px){border:1px solid \", \";border-top:6px solid \", \";}\"], function (props) {\n  return props.theme.menuBorder;\n}, function (props) {\n  return props.theme.menuBorder;\n}, function (props) {\n  return props.theme.blueTheme;\n}, function (props) {\n  return props.theme.blueTheme;\n});\nvar NewsBanner = styled.div.withConfig({\n  displayName: \"News__NewsBanner\",\n  componentId: \"sc-1dpkj34-2\"\n})([\"display:block;margin-left:8px;width:124px;height:auto;border:0;img{width:124px;height:100%;}\"]);\nvar Source = styled.h1.withConfig({\n  displayName: \"News__Source\",\n  componentId: \"sc-1dpkj34-3\"\n})([\"margin-right:24px;width:100%;display:block;text-align:center;font-size:12px;font-weight:700;color:\", \";@media (max-width:768px){padding:0;}\"], function (props) {\n  return props.theme.test;\n});\nvar Title = styled(S.Heading2).withConfig({\n  displayName: \"News__Title\",\n  componentId: \"sc-1dpkj34-4\"\n})([\"font-weight:700;font-family:'Rubik';color:\", \";@media (max-width:768px){max-width:fit-content;}\"], function (props) {\n  return props.theme.color + 'ff';\n});\n\nvar shortenSnippet = function shortenSnippet(text) {\n  return text.split(' ').slice(0, 36).join(' ') + '. . .';\n};\n\nvar showSource = function showSource(url) {\n  return sourceList[url.split('.')[1]];\n};\n\nvar News = function News(_ref) {\n  var theme = _ref.theme,\n      isHeb = _ref.isHeb,\n      news = _ref.news;\n  var detectMobile = useMobileDetect();\n\n  var newsToTemplate = function newsToTemplate(news) {\n    return news.map(function (item, idx) {\n      return __jsx(NewsCard, {\n        key: idx\n      }, __jsx(\"a\", {\n        style: {\n          textDecoration: 'none'\n        },\n        href: item.href\n      }, __jsx(S.Flex, {\n        justify: \"flex-start\",\n        margin: \"0\"\n      }, __jsx(NewsBanner, null, __jsx(\"img\", {\n        src: item.image,\n        alt: item.title\n      })), __jsx(S.Flex, {\n        column: true,\n        flex: \"0 1 80%\",\n        margin: \"12px 0px 18px 6px\"\n      }, __jsx(Title, {\n        fontSize: \"16px\",\n        color: \"#111\"\n      }, item.title), __jsx(S.Paragraph, {\n        padding: \"0\",\n        noMargin: true,\n        fontSize: \"12px\"\n      }, detectMobile.isMobile() ? '' : shortenSnippet(item.description))))), __jsx(S.Flex, {\n        justify: \"space-between\",\n        bgColor: \"inverse\",\n        margin: \"0\",\n        padding: \"0 12px\"\n      }, __jsx(S.Flex, {\n        justify: \"center\",\n        alignItems: \"middle\",\n        column: true\n      }, __jsx(\"a\", {\n        style: {\n          textDecoration: 'none',\n          textAlign: 'center',\n          color: 'white'\n        },\n        href: item.href\n      }, __jsx(Source, null, showSource(item.href)))), __jsx(S.Flex, {\n        justify: \"flex-end\",\n        column: true,\n        alignItems: \"middle\"\n      }, __jsx(S.Heading2, {\n        color: \"white\"\n      }, dateHeb(item.date)))));\n    });\n  };\n\n  return __jsx(Wrapper, null, __jsx(S.Container, null, __jsx(S.Flex, {\n    column: true,\n    justify: \"baseline\"\n  }, __jsx(S.FadeIn, {\n    duration: \"0.5s\",\n    delay: \"0.07s\"\n  }, newsToTemplate(news)))));\n};\n\nNews.getInitialProps = function _callee(ctx) {\n  var _ref2, data, news;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(axios.get('https://ncorona.live/api/v1/news/heb'));\n\n        case 2:\n          _ref2 = _context.sent;\n          data = _ref2.data;\n          news = data.data.sort(function (a, b) {\n            return new Date(b.date) - new Date(a.date);\n          });\n          return _context.abrupt(\"return\", {\n            news: news\n          });\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default News;","map":null,"metadata":{},"sourceType":"module"}