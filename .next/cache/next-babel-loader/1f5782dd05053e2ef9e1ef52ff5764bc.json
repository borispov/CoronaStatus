{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\n// meant for Line Chart Cases/Deaths Chart\nvar firstWhole = function firstWhole(arr) {\n  var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  if (arr[n] > 0) return n;\n  if (arr[n] == undefined) return 0;\n  n++;\n  return firstWhole(arr, n);\n};\n\nvar parseLabel = function parseLabel(label) {\n  var d = new Date(label);\n  return d.getDate() + '.' + ('0' + (d.getMonth() + 1)).toString();\n};\n\nvar sortForChart = function sortForChart(obj, theme) {\n  var _ref, _ref2;\n\n  var zeroNull = function zeroNull(c) {\n    return c === null ? 0 : c;\n  };\n\n  var sortedObj = obj.sort(function (a, b) {\n    return new Date(a.date) - new Date(b.date);\n  });\n  var initCasesArray = sortedObj.map(function (o) {\n    return o.total_cases;\n  });\n  var firstNumIndex = firstWhole(initCasesArray);\n  var fObj = sortedObj.slice(firstNumIndex);\n  var cases = fObj.map(function (o) {\n    return o.total_cases;\n  });\n  var labels = fObj.map(function (o) {\n    return parseLabel(o.date);\n  });\n  var deaths = fObj.map(function (o) {\n    return zeroNull(o.total_deaths);\n  });\n  var newCases = fObj.map(function (o) {\n    return zeroNull(o.new_cases);\n  });\n  var label = obj[0].location;\n  var datasets = [(_ref = {\n    label: 'new cases',\n    data: newCases,\n    backgroundColor: '#fc3111',\n    borderColor: theme && theme.green,\n    strokeColor: theme && theme.green\n  }, _defineProperty(_ref, \"borderColor\", '#fc3111'), _defineProperty(_ref, \"strokeColor\", '#301934'), _defineProperty(_ref, \"pointRadius\", 2), _defineProperty(_ref, \"borderWidth\", 4), _defineProperty(_ref, \"fill\", true), _ref), (_ref2 = {\n    label: 'deaths',\n    data: deaths,\n    backgroundColor: 'rgba(29,82,209,1) 100%)'\n  }, _defineProperty(_ref2, \"backgroundColor\", '#333'), _defineProperty(_ref2, \"borderColor\", theme && theme.blue), _defineProperty(_ref2, \"strokeColor\", theme && theme.blue), _defineProperty(_ref2, \"pointRadius\", 2), _defineProperty(_ref2, \"borderWidth\", 4), _ref2), {\n    label: 'cases',\n    data: cases,\n    backgroundColor: '#2A4561',\n    borderColor: theme && theme.primaryLight || '#6200ee',\n    strokeColor: theme && theme.primaryLight || '#ADFF2F',\n    borderWidth: 5,\n    borderCapStyle: 'butt',\n    borderJoinStyle: 'miter',\n    pointHoverRadius: 5,\n    pointHoverBorderWidth: 2,\n    pointRadius: 2,\n    pointHitRadius: 10\n  }];\n  return {\n    datasets: datasets,\n    labels: labels,\n    label: label\n  };\n};\n\nexport default sortForChart;","map":{"version":3,"sources":["/Users/raypo/Desktop/Projectos/CoronaStatus/utils/sortForChart.js"],"names":["firstWhole","arr","n","undefined","parseLabel","label","d","Date","getDate","getMonth","toString","sortForChart","obj","theme","zeroNull","c","sortedObj","sort","a","b","date","initCasesArray","map","o","total_cases","firstNumIndex","fObj","slice","cases","labels","deaths","total_deaths","newCases","new_cases","location","datasets","data","backgroundColor","borderColor","green","strokeColor","blue","primaryLight","borderWidth","borderCapStyle","borderJoinStyle","pointHoverRadius","pointHoverBorderWidth","pointRadius","pointHitRadius"],"mappings":"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","sourcesContent":["// meant for Line Chart Cases/Deaths Chart\n\nconst firstWhole = (arr, n = 0) => {\n  if (arr[n] > 0) return n\n  if (arr[n] == undefined) return 0\n  n++\n  return firstWhole(arr, n)\n}\n\nconst parseLabel = label => {\n  let d = new Date(label)\n  return d.getDate() + '.' + ('0' + (d.getMonth()+1)).toString()\n}\n\nconst sortForChart = (obj, theme) => {\n\n  const zeroNull = c => c === null ? 0 : c\n  const sortedObj = obj.sort((a,b) => new Date(a.date) - new Date(b.date))\n\n  const initCasesArray = sortedObj.map(o => o.total_cases)\n  const firstNumIndex = firstWhole(initCasesArray)\n  const fObj = sortedObj.slice(firstNumIndex)\n  const cases = fObj.map(o => o.total_cases)\n  const labels = fObj.map(o => parseLabel(o.date))\n  const deaths = fObj.map(o => zeroNull(o.total_deaths))\n  const newCases = fObj.map(o => zeroNull(o.new_cases))\n  const label = obj[0].location\n\n  const datasets = [\n    {\n      label: 'new cases',\n      data: newCases,\n      backgroundColor: '#fc3111',\n      borderColor: theme && theme.green,\n      strokeColor: theme && theme.green,\n      borderColor: '#fc3111',\n      strokeColor: '#301934',\n      pointRadius: 2,\n      borderWidth: 4,\n      fill: true,\n    },\n    {\n      label: 'deaths',\n      data: deaths,\n      backgroundColor: 'rgba(29,82,209,1) 100%)',\n      backgroundColor: '#333',\n      borderColor: theme && theme.blue,\n      strokeColor: theme && theme.blue,\n      pointRadius: 2,\n      borderWidth: 4,\n    },\n    {\n      label: 'cases',\n      data: cases,\n      backgroundColor: '#2A4561',\n      borderColor: theme && theme.primaryLight || '#6200ee',\n      strokeColor: theme && theme.primaryLight || '#ADFF2F',\n      borderWidth: 5,\n\n      borderCapStyle: 'butt',\n      borderJoinStyle: 'miter',\n      pointHoverRadius: 5,\n      pointHoverBorderWidth: 2,\n      pointRadius: 2,\n      pointHitRadius: 10,\n\n    }\n  ]\n\n  return {\n    datasets,\n    labels,\n    label\n  }\n}\n\nexport default sortForChart\n"]},"metadata":{},"sourceType":"module"}