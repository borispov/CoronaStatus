{"ast":null,"code":"const defaultLocale = 'he';\nimport { useContext } from 'react';\nimport { ProxyContext } from '../context/proxy-context';\n\nconst isLocale = str => ['he', 'en'].some(locale => str === locale);\n\nexport function getInitialLocale() {\n  // preference from the previous session\n  const localSetting = localStorage.getItem('locale');\n\n  if (localSetting && isLocale(localSetting)) {\n    return localSetting;\n  }\n\n  const {\n    0: proxy,\n    1: setProxy\n  } = useContext(ProxyContext);\n  const country = proxy.countryName.toLowerCase();\n\n  if (country === 'israel') {\n    return 'he';\n  } // the language setting of the browser\n\n\n  const [browserSetting] = navigator.language.split('-');\n\n  if (isLocale(browserSetting)) {\n    return browserSetting;\n  }\n\n  return defaultLocale;\n}","map":{"version":3,"sources":["/Users/raypo/Desktop/Projectos/CoronaStatus/locales/getInitialLocale.js"],"names":["defaultLocale","useContext","ProxyContext","isLocale","str","some","locale","getInitialLocale","localSetting","localStorage","getItem","proxy","setProxy","country","countryName","toLowerCase","browserSetting","navigator","language","split"],"mappings":"AAAA,MAAMA,aAAa,GAAG,IAAtB;AAEA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,YAAT,QAA6B,0BAA7B;;AAEA,MAAMC,QAAQ,GAAGC,GAAG,IAAI,CAAC,IAAD,EAAO,IAAP,EAAaC,IAAb,CAAkBC,MAAM,IAAIF,GAAG,KAAKE,MAApC,CAAxB;;AAEA,OAAO,SAASC,gBAAT,GAA2B;AAChC;AACA,QAAMC,YAAY,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAArB;;AACA,MAAIF,YAAY,IAAIL,QAAQ,CAACK,YAAD,CAA5B,EAA4C;AAC1C,WAAOA,YAAP;AACD;;AAED,QAAM;AAAA,OAAEG,KAAF;AAAA,OAASC;AAAT,MAAqBX,UAAU,CAACC,YAAD,CAArC;AAEA,QAAMW,OAAO,GAAGF,KAAK,CAACG,WAAN,CAAkBC,WAAlB,EAAhB;;AACA,MAAIF,OAAO,KAAK,QAAhB,EAA0B;AACxB,WAAO,IAAP;AACD,GAZ+B,CAchC;;;AACA,QAAM,CAACG,cAAD,IAAmBC,SAAS,CAACC,QAAV,CAAmBC,KAAnB,CAAyB,GAAzB,CAAzB;;AACA,MAAIhB,QAAQ,CAACa,cAAD,CAAZ,EAA8B;AAC5B,WAAOA,cAAP;AACD;;AAED,SAAOhB,aAAP;AACD","sourcesContent":["const defaultLocale = 'he'\n\nimport { useContext } from 'react'\nimport { ProxyContext } from '../context/proxy-context'\n\nconst isLocale = str => ['he', 'en'].some(locale => str === locale)\n\nexport function getInitialLocale(){\n  // preference from the previous session\n  const localSetting = localStorage.getItem('locale')\n  if (localSetting && isLocale(localSetting)) {\n    return localSetting\n  }\n\n  const [ proxy, setProxy] = useContext(ProxyContext)\n\n  const country = proxy.countryName.toLowerCase()\n  if (country === 'israel') {\n    return 'he'\n  }\n\n  // the language setting of the browser\n  const [browserSetting] = navigator.language.split('-')\n  if (isLocale(browserSetting)) {\n    return browserSetting\n  }\n\n  return defaultLocale\n}\n"]},"metadata":{},"sourceType":"module"}