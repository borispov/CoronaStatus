{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst isUSA = s => s === 'usa' || s === 'Usa' || s === 'United States';\n\nconst isUK = str => str === 'Uk' || str === 'England' || str === 'United Kingdom' || str == 'great britain';\n\nconst capitalize = str => str.charAt(0).toUpperCase() + str.toLowerCase().slice(1);\n\nconst parseCountry = country => isUSA(country) ? 'USA' : isUK(country) ? 'UK' : country;\n\nexport default function useYday(url, country) {\n  const {\n    0: yesterdayCn,\n    1: setStats\n  } = useState();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: error,\n    1: setError\n  } = useState(false);\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      setError();\n      const URL = url + parseCountry(country).toLowerCase();\n\n      try {\n        const {\n          data\n        } = await axios.get(URL + '?yesterday=true');\n        const yesterdayCn = {\n          active: data.active,\n          cases: data.cases,\n          todayCases: data.todayCases,\n          recovered: data.recovered,\n          deaths: data.deaths,\n          country: data.country\n        };\n        setStats(yesterdayCn);\n        setLoading(false);\n      } catch (e) {\n        setError(e);\n      }\n    }\n\n    fetchData();\n  }, [country]);\n  return {\n    yesterdayCn,\n    loading,\n    error\n  };\n}","map":null,"metadata":{},"sourceType":"module"}