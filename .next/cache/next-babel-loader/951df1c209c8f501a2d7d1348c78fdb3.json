{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { themes } from './themes';\n\nvar theme = _objectSpread({}, themes['common'], {}, themes['light']);\n\nvar firstWhole = function firstWhole(arr) {\n  var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  if (arr[n] > 0) return n;\n  if (arr[n] == undefined) return 0;\n  n++;\n  return firstWhole(arr, n);\n};\n\nvar parseLabel = function parseLabel(label) {\n  var d = new Date(label);\n  return d.getDate() + '.' + ('0' + (d.getMonth() + 1)).toString();\n};\n\nvar sortForChart = function sortForChart(obj) {\n  var _ref;\n\n  var zeroNull = function zeroNull(c) {\n    return c === null ? 0 : c;\n  };\n\n  var sortedObj = obj.sort(function (a, b) {\n    return new Date(a.date) - new Date(b.date);\n  });\n  var initCasesArray = sortedObj.map(function (o) {\n    return o.total_cases;\n  });\n  var firstNumIndex = firstWhole(initCasesArray);\n  var fObj = sortedObj.slice(firstNumIndex);\n  var cases = fObj.map(function (o) {\n    return o.total_cases;\n  });\n  var labels = fObj.map(function (o) {\n    return parseLabel(o.date);\n  });\n  var deaths = fObj.map(function (o) {\n    return zeroNull(o.total_deaths);\n  });\n  var newCases = fObj.map(function (o) {\n    return zeroNull(o.new_cases);\n  });\n  var label = obj[0].location;\n  var datasets = [{\n    label: 'new cases',\n    data: newCases,\n    backgroundColor: '#fc3111',\n    borderColor: theme && theme.successDefault,\n    strokeColor: theme && theme.successDefault,\n    pointRadius: 2,\n    borderWidth: 4,\n    fill: true\n  }, (_ref = {\n    label: 'deaths',\n    data: deaths,\n    backgroundColor: 'rgba(29,82,209,1) 100%)'\n  }, _defineProperty(_ref, \"backgroundColor\", '#333'), _defineProperty(_ref, \"borderColor\", theme && theme.blue), _defineProperty(_ref, \"strokeColor\", theme && theme.blue), _defineProperty(_ref, \"pointRadius\", 2), _defineProperty(_ref, \"borderWidth\", 4), _ref), {\n    label: 'cases',\n    data: cases,\n    backgroundColor: '#2A4561',\n    borderColor: theme && theme.primaryLight || '#6200ee',\n    strokeColor: theme && theme.primaryLight || '#ADFF2F',\n    borderWidth: 5,\n    borderCapStyle: 'butt',\n    borderJoinStyle: 'miter',\n    pointHoverRadius: 5,\n    pointHoverBorderWidth: 2,\n    pointRadius: 2,\n    pointHitRadius: 10\n  }];\n  return {\n    datasets: datasets,\n    labels: labels,\n    label: label\n  };\n};\n\nexport default sortForChart;","map":null,"metadata":{},"sourceType":"module"}