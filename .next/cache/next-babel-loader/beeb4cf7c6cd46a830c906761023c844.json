{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"/Users/raypo/Desktop/Projectos/CoronaStatus/pages/News.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport styled, { withTheme } from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport * as S from '../components/S';\nimport axios from 'axios';\nimport dateHeb from '../utils/dateHeb';\nimport useMobileDetect from '../utils/isMobile';\nvar sourceList = {\n  maariv: 'מעריב',\n  ynet: 'YNET',\n  israelhayom: 'ישראל היום'\n};\nvar Wrapper = styled.div.withConfig({\n  displayName: \"News__Wrapper\",\n  componentId: \"sc-1dpkj34-0\"\n})([\"margin:0 auto;width:85%;direction:rtl;transition:all .6s ease-in-out;@media (max-width:768px){width:100%;max-width:100%;}\"]);\nvar NewsCard = styled.div.withConfig({\n  displayName: \"News__NewsCard\",\n  componentId: \"sc-1dpkj34-1\"\n})([\"display:flex;border-radius:6px;border:1px solid \", \";border-top:4px solid \", \";flex-direction:column;width:100%;max-width:100%;justify-content:space-between;margin:16px auto;height:auto;@media (max-width:568px){border:1px solid \", \";border-top:6px solid \", \";}\"], function (props) {\n  return props.theme.menuBorder;\n}, function (props) {\n  return props.theme.menuBorder;\n}, function (props) {\n  return props.theme.blueTheme;\n}, function (props) {\n  return props.theme.blueTheme;\n});\nvar NewsBanner = styled.div.withConfig({\n  displayName: \"News__NewsBanner\",\n  componentId: \"sc-1dpkj34-2\"\n})([\"display:block;margin-left:8px;width:124px;height:auto;border:0;img{width:124px;height:100%;}\"]);\nvar Source = styled.h1.withConfig({\n  displayName: \"News__Source\",\n  componentId: \"sc-1dpkj34-3\"\n})([\"margin-right:24px;width:100%;display:block;text-align:center;font-size:12px;font-weight:700;color:\", \";@media (max-width:768px){padding:0;}\"], function (props) {\n  return props.theme.test;\n});\nvar Title = styled(S.Heading2).withConfig({\n  displayName: \"News__Title\",\n  componentId: \"sc-1dpkj34-4\"\n})([\"font-weight:700;font-family:'Rubik';color:\", \";@media (max-width:768px){max-width:fit-content;}\"], function (props) {\n  return props.theme.color;\n});\n\nvar shortenSnippet = function shortenSnippet(text) {\n  return text.split(' ').slice(0, 22).join(' ') + '. . .';\n};\n\nvar showSource = function showSource(url) {\n  return sourceList[url.split('.')[1]];\n};\n\nvar News = function News(_ref) {\n  var theme = _ref.theme,\n      isHeb = _ref.isHeb,\n      news = _ref.news;\n  var detectMobile = useMobileDetect();\n\n  var newsToTemplate = function newsToTemplate(news) {\n    return news.map(function (item, idx) {\n      return __jsx(NewsCard, {\n        key: idx,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        style: {\n          textDecoration: 'none'\n        },\n        href: item.href,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, __jsx(S.Flex, {\n        justify: \"flex-start\",\n        margin: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, __jsx(NewsBanner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: item.image,\n        alt: item.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), __jsx(S.Flex, {\n        column: true,\n        flex: \"0 1 80%\",\n        margin: \"12px 0px 18px 6px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, __jsx(Title, {\n        fontSize: \"16px\",\n        color: \"#111\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, item.title), __jsx(S.Paragraph, {\n        padding: \"0\",\n        noMargin: true,\n        fontSize: \"12px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, detectMobile.isMobile() ? shortenSnippet(item.description) : item.description)))), __jsx(S.Flex, {\n        justify: \"space-between\",\n        bgColor: \"inverse\",\n        margin: \"0\",\n        padding: \"0 12px\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, __jsx(S.Flex, {\n        justify: \"center\",\n        alignItems: \"middle\",\n        column: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        style: {\n          textDecoration: 'none',\n          textAlign: 'center',\n          color: 'white'\n        },\n        href: item.href,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, __jsx(Source, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, showSource(item.href)))), __jsx(S.Flex, {\n        justify: \"flex-end\",\n        column: true,\n        alignItems: \"middle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, __jsx(S.Heading2, {\n        color: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, dateHeb(item.date)))));\n    });\n  };\n\n  return __jsx(Wrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, __jsx(S.Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, __jsx(S.Flex, {\n    column: true,\n    justify: \"baseline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, __jsx(S.FadeIn, {\n    duration: \"0.5s\",\n    delay: \"0.07s\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, newsToTemplate(news)))));\n};\n\nNews.getInitialProps = function _callee(ctx) {\n  var _ref2, data, news;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(axios.get('https://ncorona.live/api/v1/news/heb'));\n\n        case 2:\n          _ref2 = _context.sent;\n          data = _ref2.data;\n          news = data.data.sort(function (a, b) {\n            return new Date(b.date) - new Date(a.date);\n          });\n          return _context.abrupt(\"return\", {\n            news: news\n          });\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default News;","map":{"version":3,"sources":["/Users/raypo/Desktop/Projectos/CoronaStatus/pages/News.js"],"names":["styled","withTheme","useState","useEffect","S","axios","dateHeb","useMobileDetect","sourceList","maariv","ynet","israelhayom","Wrapper","div","NewsCard","props","theme","menuBorder","blueTheme","NewsBanner","Source","h1","test","Title","Heading2","color","shortenSnippet","text","split","slice","join","showSource","url","News","isHeb","news","detectMobile","newsToTemplate","map","item","idx","textDecoration","href","image","title","isMobile","description","textAlign","date","getInitialProps","ctx","get","data","sort","a","b","Date"],"mappings":"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","sourcesContent":["import styled, { withTheme } from 'styled-components'\nimport { useState, useEffect } from 'react'\nimport * as S from '../components/S'\nimport axios from 'axios'\nimport dateHeb from '../utils/dateHeb'\nimport useMobileDetect from '../utils/isMobile'\n\n\nconst sourceList = {\n  maariv: 'מעריב', \n  ynet: 'YNET',\n  israelhayom: 'ישראל היום'\n}\n\nconst Wrapper = styled.div`\n  margin: 0 auto;\n  width: 85%;\n  direction: rtl;\n  transition: all .6s ease-in-out;\n  @media (max-width: 768px) {\n    width: 100%;\n    max-width: 100%;\n  }\n`\n\nconst NewsCard = styled.div`\n  display: flex;\n\n  border-radius: 6px;\n  border: 1px solid ${props => props.theme.menuBorder};\n  border-top: 4px solid ${props => props.theme.menuBorder};\n\n  flex-direction: column;\n  width: 100%;\n  max-width: 100%;\n  justify-content: space-between;\n  margin: 16px auto;\n  height: auto;\n  @media (max-width: 568px) {\n    border: 1px solid ${props => props.theme.blueTheme};\n    border-top: 6px solid ${props => props.theme.blueTheme};\n  }\n`\n\nconst NewsBanner = styled.div`\n  display: block;\n  margin-left: 8px;\n  width: 124px;\n  height: auto;\n  border: 0;\n  // flex: 0 0 20%;\n  img {\n    width: 124px;\n    height: 100%;\n  }\n`\n\nconst Source = styled.h1`\n  margin-right: 24px;\n  width: 100%;\n  display: block;\n  text-align: center;\n  font-size: 12px;\n  font-weight: 700;\n  color: ${props => props.theme.test};\n  @media (max-width: 768px) {\n    padding: 0;\n  }\n`\n\nconst Title = styled(S.Heading2)`\n  font-weight: 700;\n  font-family: 'Rubik';\n  color: ${props => props.theme.color};\n  @media (max-width: 768px) {\n    max-width: fit-content;\n  }\n`\n\nconst shortenSnippet = text => text.split(' ').slice(0, 22).join(' ') + '. . .';\n\n\nconst showSource = url => sourceList[url.split('.')[1]]\n\n\nconst News = ({ theme, isHeb, news }) => {\n\n  const detectMobile = useMobileDetect();\n\n  const newsToTemplate = news => {\n    return news.map((item, idx) => (\n      <NewsCard key={idx}>\n        <a style={{textDecoration: 'none'}} href={item.href}>\n          <S.Flex justify='flex-start' margin='0'>\n            <NewsBanner>\n              <img src={item.image} alt={item.title}></img>\n            </NewsBanner>\n            <S.Flex column flex='0 1 80%' margin='12px 0px 18px 6px'>\n              <Title fontSize='16px' color='#111'>{item.title}</Title>\n              <S.Paragraph padding='0' noMargin fontSize='12px'>\n                {\n                  detectMobile.isMobile() \n                    ? shortenSnippet(item.description) \n                    : item.description\n                }\n              </S.Paragraph>\n            </S.Flex>\n          </S.Flex>\n        </a>\n        <S.Flex justify='space-between' bgColor='inverse' margin='0' padding='0 12px'>\n          <S.Flex justify='center' alignItems='middle' column>\n            <a style={{textDecoration: 'none', textAlign: 'center', color: 'white'}} href={item.href} >\n              <Source>{showSource(item.href)}</Source>\n            </a>\n          </S.Flex>\n          <S.Flex justify='flex-end' column alignItems='middle'>\n            <S.Heading2 color=\"white\">{dateHeb(item.date)}</S.Heading2>\n          </S.Flex>\n        </S.Flex>\n\n      </NewsCard>\n    ))\n  }\n\n  return (\n    <Wrapper>\n      <S.Container>\n        <S.Flex column justify='baseline' >\n\n          <S.FadeIn duration=\"0.5s\" delay=\"0.07s\">\n\n            {newsToTemplate(news)}\n          </S.FadeIn>\n\n        </S.Flex>\n      </S.Container>\n    </Wrapper>\n  )\n}\n\nNews.getInitialProps = async ctx => {\n\n  const { data } = await axios.get('https://ncorona.live/api/v1/news/heb')\n  const news = data.data.sort((a,b) => new Date(b.date) - new Date(a.date))\n  return { news }\n}\n\nexport default News\n"]},"metadata":{},"sourceType":"module"}